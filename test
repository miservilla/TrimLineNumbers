 1  package stackTrace;
 2
 3  import java.util.*;
 4
 5  /**
 6   * A program that displays a trace feature of a recursive method call.
 7   * @version 1.10 2017-12-14
 8   * @author Cay Horstmann
 9   */
10  public class StackTraceTest
11  {
12     /**
13      * Computes the factorial of a number
14      * @param n a non-negative integer
15      * @return n! = 1 * 2 * . . . * n
16      */
17     public static int factorial(int n)
18     {
19        System.out.println("factorial(" + n + "):");
20        var walker = StackWalker.getInstance();
21        walker.forEach(System.out::println);
22        int r;
23        if (n <= 1) r = 1;
24        else r = n * factorial(n - 1);
25        System.out.println("return " + r);
26        return r;
27     }
28
29     public static void main(String[] args)
30     {
31        try (var in = new Scanner(System.in))
32        {
33           System.out.print("Enter n: ");
34           int n = in.nextInt();
35           factorial(n);
36        }
37     }
38  }