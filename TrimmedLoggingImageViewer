  package logging;

  import java.awt.*;
  import java.awt.event.*;
  import java.io.*;
  import java.util.logging.*;
  import javax.swing.*;

  /**
   * A modification of the image viewer program that logs various events.
   * @version 1.03 2015-08-20
   * @author Cay Horstmann
   */
  public class LoggingImageViewer
  {
     public static void main(String[] args)
     {
        if (System.getProperty("java.util.logging.config.class") == null
              && System.getProperty("java.util.logging.config.file") == null)
        {
           try
           {
              Logger.getLogger("com.horstmann.corejava").setLevel(Level.ALL);
              final int LOG_ROTATION_COUNT = 10;
              var handler = new FileHandler("%h/LoggingImageViewer.log", 0, LOG_ROTATION_COUNT);
              Logger.getLogger("com.horstmann.corejava").addHandler(handler);
           }
           catch (IOException e)
           {
              Logger.getLogger("com.horstmann.corejava").log(Level.SEVERE,
                 "Can't create log file handler", e);
           }
        }

        EventQueue.invokeLater(() ->
